{% extends 'base.html' %}

{% block content %}


<!-- Sponsor Marketplace view for XL and LG -->

 <div class="mx-auto d-none d-lg-block px-lg-5 px-md-3 px-sm-2 px-xs-2">

   <br>

   <div class="row pl-4">

       <!-- Filter Form -->

       <div class="col-2 d-none d-lg-block mt-2 px-4 py-2 shadow" style="height: 50%; border: 2px solid #d8d8d8; border-radius: 25px; min-width: 203px;">
           <form method="GET">
               <div class="col p-0">

                 <button type="button" class="btn btn-primary btn-block mt-3 py-2" style="border: 1px solid #0058b5;" data-toggle="modal" data-target="#helpVideoModal">
                   Need Help?
                 </button>


                 <!-- Modal -->
                 <div class="modal fade" id="helpVideoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                   <div class="modal-dialog modal-dialog-centered" role="document">
                     <div class="modal-content">
                       <div class="modal-header">
                         <h5 class="modal-title" id="exampleModalLongTitle">Sponsor Marketplace Help Video</h5>
                         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                           <span aria-hidden="true">&times;</span>
                         </button>
                       </div>
                       <div class="modal-body">
                         <div class="container-fluid">
                           <div class="row">
                             <div class="col-12 embed-responsive embed-responsive-16by9">
                               <iframe class="embed-responsive-item" src="//www.youtube.com/embed/gkvdhLPCq-0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                             </div>
                           </div>
                         </div>
                       </div>
                       <div class="modal-footer">
                         <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                       </div>
                     </div>
                   </div>
                 </div>


                   <div class="dropdown">
                       <h4 class="mt-3 text-left">
                         <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-filter" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
                         </svg>
                         Filter By
                       </h4>

                       <hr>

                       <div>

                         <h6 class="font-weight-bold">Search By Keywords</h6>
                         <input class="form-control" style="width: 100%;" type="search" placeholder="ex: tech books etc." aria-label="Search" name="search_bar" {% if searchbar_bool %}value="{{searchb}}"{% endif %}>
                         <hr>

                           <div>
                               <div>
                                   <h6 class="font-weight-bold">Niche</h6>
                               </div>

                                   <div>
                                       <ul style="list-style: none; padding-left: 0;">
                                           {% for niche, check in niches.items %}
                                               <li>
                                                   <div class="form-check">
                                                       <input name="niche" class="form-check-input font-weight-normal" type="checkbox" value="{{ niche }}" id="defaultCheck1" {% if check == 'checked' %} checked="True" {% endif %}>
                                                       <label class="form-check-label" for="defaultCheck1">
                                                       {{ niche }}
                                                       </label>
                                                   </div>
                                               </li>
                                           {% endfor %}
                                       </ul>
                                   </div>

                           </div>

                           <hr>

                           <div>
                               <div>
                                   <h6 class="font-weight-bold">Language</h6>
                               </div>

                                   <div>
                                     <ul style="list-style: none; padding-left: 0;">
                                         {% for l, check in langs.items %}
                                             <li>
                                                 <div class="form-check">
                                                     <input name="language" class="form-check-input font-weight-normal" type="checkbox" value="{{ l }}" id="defaultCheck2" {% if check == 'checked' %} checked="True" {% endif %}>
                                                     <label class="form-check-label" for="defaultCheck2">
                                                     {{ l }}
                                                     </label>
                                                 </div>
                                             </li>
                                         {% endfor %}
                                     </ul>
                                   </div>

                           </div>
                       </div>
                   </div>

                   <button class="btn btn-block btn-success" style="border: 1px solid #025e17" type="submit">Search</button>
                   <input class="btn btn-block btn-primary mb-3" style="border: 1px solid #0058b5" type="submit" value="Reset" name="reset_button">

               </div>
           </form>
       </div>

       <!-- END Filter Form -->


       <!-- Listings -->

       <div class="col mt-3 p-0">



         <div>


           <!-- XL view -->
           <div class="d-none d-xl-block">
             <div class="d-flex flex-wrap justify-content-center">

               {% for listing in sponsor_listings %}



                   <div class="card mx-3 mt-2 mb-5 shadow" style="width: 28%; border: 2px solid #d8d8d8; border-radius: 25px;">

                       <a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}">
                         <img src="{{MEDIA_URL}}{{listing.listing_img}}" class="card-img" style="max-width: 100%; max-height: 100%; border: 0px solid #d8d8d8; border-top-left-radius: 23px; border-top-right-radius: 23px;"">
                       </a>

                     <div class="card-body pt-1">

                         <div class="row">

                             <div class="ml-auto mr-1 mt-1">

                                 {% if listing in watching %}

                                     <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                                         <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                                     </svg>

                                 {% else %}

                                 <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 16 16">
                                   <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4z"/>
                                   <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                 </svg>

                                 {% endif %}


                            </div>

                        </div>

                         <div class="row mt-2">

                             <h5 class="card-title ml-3 mb-2 text-break"><a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}" style="color: #007185;">{{ listing.product }}</a></h5

                             <br>

                         </div>


                       <small class="text-muted ml-1 mt-2">{{ listing.niche }}</small>

                       <br>

                       {% if listing.url %}
                               <a href="{{ listing.url }}" target="_blank" style="color: #007185;">
                                 <small class="ml-1" style="color: #007185;">
                                   {% if listing.url.4 == "s" %}
                                     {{ listing.url|slice:"8:" }}
                                   {% elif listing.url.4 == ":" %}
                                     {{ listing.url|slice:"7:" }}
                                   {% endif %}
                                 </small>
                               </a>
                           {% endif %}

                       <p class="font-weight-normal mt-3 ml-1">{{ listing.tagline }}</p>


                     </div>
                   </div>



               {% endfor %}

             </div>
           </div>


           <!-- LG view -->
           <div class="d-none d-lg-block d-xl-none">
             <div class="d-flex flex-wrap justify-content-center">

               {% for listing in sponsor_listings %}



                   <div class="card mx-3 mt-2 mb-5 shadow" style="width: 28%; border: 2px solid #d8d8d8; border-radius: 25px;">

                       <a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}">
                         <img src="{{MEDIA_URL}}{{listing.listing_img}}" class="card-img" style="max-width: 100%; max-height: 100%; border: 0px solid #d8d8d8; border-top-left-radius: 23px; border-top-right-radius: 23px;">
                       </a>

                     <div class="card-body pt-1 pl-2">

                         <div class="row">

                             <div class="ml-auto mr-1 mt-1">

                                 {% if listing in watching %}

                                     <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                                         <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                                     </svg>

                                 {% else %}

                                 <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 16 16">
                                   <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4z"/>
                                   <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                 </svg>

                                 {% endif %}


                            </div>

                        </div>

                         <div class="row mt-2">

                             <h5 class="card-title ml-4 mb-2 text-break"><a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}" style="color: #007185;">l-{{ listing.product }}</a></h5>

                         </div>


                       <small class="text-muted ml-2 mt-2">{{ listing.niche }}</small>

                       <br>

                       {% if listing.url %}
                               <a href="{{ listing.url }}" target="_blank" style="color: #007185;">
                                 <small class="ml-2" style="color: #007185;">
                                   {% if listing.url.4 == "s" %}
                                     {{ listing.url|slice:"8:" }}
                                   {% elif listing.url.4 == ":" %}
                                     {{ listing.url|slice:"7:" }}
                                   {% endif %}
                                 </small>
                               </a>
                         {% endif %}

                         <p class="font-weight-normal mt-2 ml-2">{{ listing.tagline }}</p>

                     </div>
                   </div>



               {% endfor %}

             </div>
           </div>



         </div>


           <nav class="mt-5" aria-label="Page navigation example">
             <ul class="pagination justify-content-center">

               {% if sponsor_listings.has_previous %}
                 <li class="page-item">
                   <a class="page-link m-1" href="?page={{sponsor_listings.previous_page_number}}" tabindex="-1" aria-disabled="true" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">Previous</a>
                 </li>

                 <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.previous_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">{{sponsor_listings.previous_page_number}}</a></li>

               {% else %}
                 <li class="page-item disabled">
                   <a class="page-link m-1" style="border-color: #acafb4;" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                 </li>

               {% endif %}

               <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.number}}" style="background-color: white; border-color: #007bff;"><b>{{sponsor_listings.number}}</b></a></li>


               {% if sponsor_listings.has_next %}
                 <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.next_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">{{sponsor_listings.next_page_number}}</a></li>

                 <li class="page-item">
                   <a class="page-link m-1" href="?page={{sponsor_listings.next_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">Next</a>
                 </li>

               {% else %}
                 <li class="page-item disabled">
                   <a class="page-link m-1" style="border-color: #acafb4;" href="#" tabindex="-1" aria-disabled="true">Next</a>
                 </li>

               {% endif %}


             </ul>
           </nav>

       </div>
       <!-- END Listings -->

   </div>

 </div>


 <!-- Sponsor Marketplace view for MD and SM -->

 <div class="d-none d-sm-block d-md-block d-lg-none px-md-3 px-sm-2">


     <div class="row mx-5 mb-3">
       <div class="col-4 px-2 mx-auto">

         <a class="btn btn-primary btn-block mt-3" style="border: 1px solid #0058b5" data-toggle="collapse" data-target="#collapseCreatorOrdersSmToMdBlock" role="button">
             Filter By
         </a>

        </div>

       <div class="col-8 pr-2 pl-0 mx-auto">

       <button type="button" class="btn btn-primary btn-block my-3" style="border: 1px solid #0058b5;" data-toggle="modal" data-target="#helpVideoModalMobileSmToMdBlock">
         Need Help?
       </button>

       <!-- Modal -->
       <div class="modal fade" id="helpVideoModalMobileSmToMdBlock" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered" role="document">
           <div class="modal-content">
             <div class="modal-header">
               <h5 class="modal-title" id="exampleModalLongTitle">Sponsor Marketplace Help Video</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
               </button>
             </div>
             <div class="modal-body">
               <div class="container-fluid">
                 <div class="row">
                   <div class="col-12 embed-responsive embed-responsive-16by9">
                     <iframe class="embed-responsive-item" src="//www.youtube.com/embed/gkvdhLPCq-0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                   </div>
                 </div>
               </div>
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
             </div>
           </div>
         </div>
       </div>

       <div class="modal fade" id="helpVideoModalMobileSmToMdBlock" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered" role="document">
           <div class="modal-content">
             <div class="modal-header">
               <h5 class="modal-title" id="exampleModalLongTitle">Listing Creation/Updating Help Video</h5>
               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                 <span aria-hidden="true">&times;</span>
               </button>
             </div>
             <div class="modal-body">
               <div class="container-fluid">
                 <div class="row">
                   <div class="col-12 embed-responsive embed-responsive-16by9">
                     <iframe class="embed-responsive-item" src="//www.youtube.com/embed/gkvdhLPCq-0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                   </div>
                 </div>
               </div>
             </div>
             <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
             </div>
           </div>
         </div>
       </div>


     </div>
     </div>

     <div class="collapse" id="collapseCreatorOrdersSmToMdBlock">

       <form method="GET">
           <div class="col">
               <div class="dropdown mx-5">
                       <h4 class="mt-3 text-left">
                         <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-filter" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
                         </svg>
                         Filter By
                       </h4>

                       <hr>

                       <div>

                         <h6 class="font-weight-bold">Search By Keywords</h6>
                         <input class="form-control" style="width: 100%;" type="search" placeholder="ex: tech books etc." aria-label="Search" name="search_bar" {% if searchbar_bool %}value="{{searchb}}"{% endif %}>
                         <hr>

                           <div>
                               <div>
                                   <h6 class="font-weight-bold">Niche</h6>
                               </div>

                                   <div>
                                       <ul style="list-style: none; padding-left: 0;">
                                           {% for niche, check in niches.items %}
                                               <li>
                                                   <div class="form-check">
                                                       <input name="niche" class="form-check-input font-weight-normal" type="checkbox" value="{{ niche }}" id="defaultCheck1" {% if check == 'checked' %} checked="True" {% endif %}>
                                                       <label class="form-check-label" for="defaultCheck1">
                                                       {{ niche }}
                                                       </label>
                                                   </div>
                                               </li>
                                           {% endfor %}
                                       </ul>
                                   </div>

                           </div>

                           <hr>

                           <div>
                               <div>
                                   <h6 class="font-weight-bold">Language</h6>
                               </div>

                                   <div>
                                     <ul style="list-style: none; padding-left: 0;">
                                         {% for l, check in langs.items %}
                                             <li>
                                                 <div class="form-check">
                                                     <input name="language" class="form-check-input font-weight-normal" type="checkbox" value="{{ l }}" id="defaultCheck2" {% if check == 'checked' %} checked="True" {% endif %}>
                                                     <label class="form-check-label" for="defaultCheck2">
                                                     {{ l }}
                                                     </label>
                                                 </div>
                                             </li>
                                         {% endfor %}
                                     </ul>
                                   </div>

                           </div>
                       </div>
                   </div>

               <button class="btn btn-block btn-success" style="border: 1px solid #025e17" type="submit">Search</button>
               <input class="btn btn-block btn-primary mb-3" style="border: 1px solid #0058b5" type="submit" value="Reset" name="reset_button">

               <br>
               <hr class="mb-3">
               <br>

           </div>
       </form>

     </div>


     <!-- MD view -->
     <div class="d-none d-md-block d-lg-none">
       <div class="d-flex flex-wrap justify-content-center">

         {% for listing in sponsor_listings %}


             <div class="card mx-3 mt-2 mb-5 shadow" style="width: 28%; border: 2px solid #d8d8d8; border-radius: 25px;">

                 <a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}">
                   <img src="{{MEDIA_URL}}{{listing.listing_img}}" class="card-img" style="max-width: 100%; max-height: 100%; border: 0px solid #d8d8d8; border-top-left-radius: 23px; border-top-right-radius: 23px;">
                 </a>

               <div class="card-body pt-1 pl-2">

                   <div class="row">

                       <div class="ml-auto mr-1 mt-1">

                           {% if listing in watching %}

                               <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                                   <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                               </svg>

                           {% else %}

                           <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 16 16">
                             <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4z"/>
                             <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                           </svg>

                           {% endif %}


                      </div>

                  </div>

                   <div class="row mt-2">

                       <h5 class="card-title ml-4 mb-2 text-break"><a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}" style="color: #007185;">m{{ listing.product }}</a></h5>

                   </div>


                 <small class="text-muted ml-2">{{ listing.niche }}</small>

                 <br>

                 {% if listing.url %}
                   <a href="{{ listing.url }}" target="_blank" style="color: #007185;">
                     <small class="ml-2" style="color: #007185;">
                       {% if listing.url.4 == "s" %}
                         {{ listing.url|slice:"8:" }}
                       {% elif listing.url.4 == ":" %}
                         {{ listing.url|slice:"7:" }}
                       {% endif %}
                     </small>
                   </a>
                 {% endif %}

                 <p class="font-weight-normal mt-3 ml-2">{{ listing.tagline }}</p>


               </div>
             </div>



         {% endfor %}

       </div>

     </div>


     <!-- SM view -->
     <div class="d-none d-sm-block d-md-none">
       <div class="d-flex flex-wrap justify-content-center">

         {% for listing in sponsor_listings %}



         <div class="card mx-3 mt-2 mb-5 shadow" style="width: 13rem; border: 2px solid #d8d8d8; border-radius: 25px;">

             <a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}">
               <img src="{{MEDIA_URL}}{{listing.listing_img}}" class="card-img" style="max-width: 100%; max-height: 100%; border: 0px solid #d8d8d8; border-top-left-radius: 23px; border-top-right-radius: 23px;"">
             </a>

           <div class="card-body pt-1 pl-2">

               <div class="row">

                   <div class="ml-auto mr-1 mt-1">

                       {% if listing in watching %}

                           <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                               <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                           </svg>

                       {% else %}

                       <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 16 16">
                         <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4z"/>
                         <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                       </svg>

                       {% endif %}


                  </div>

              </div>

               <div class="row mt-2">

                   <h5 class="card-title ml-4 mb-2 text-break"><a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}" style="color: #007185;">sm{{ listing.product }}</a></h5>

               </div>


             <small class="text-muted ml-2">{{ listing.niche }}</small>

             <br>

             {% if listing.url %}
                   <a href="{{ listing.url }}" target="_blank" style="color: #007185;">
                     <small class="text-muted ml-2" style="color: #007185;">
                       {% if listing.url.4 == "s" %}
                         {{ listing.url|slice:"8:" }}
                       {% elif listing.url.4 == ":" %}
                         {{ listing.url|slice:"7:" }}
                       {% endif %}
                     </small>
                   </a>
             {% endif %}

             <p class="font-weight-normal mt-3 ml-1">{{ listing.tagline }}</p>

           </div>
         </div>



         {% endfor %}

       </div>

     </div>


     <nav class="mt-5" aria-label="Page navigation example">
       <ul class="pagination justify-content-center">

         {% if sponsor_listings.has_previous %}
           <li class="page-item">
             <a class="page-link m-1" href="?page={{sponsor_listings.previous_page_number}}" tabindex="-1" aria-disabled="true" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">Previous</a>
           </li>

           <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.previous_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">{{sponsor_listings.previous_page_number}}</a></li>

         {% else %}
           <li class="page-item disabled">
             <a class="page-link m-1" style="border-color: #acafb4;" href="#" tabindex="-1" aria-disabled="true">Previous</a>
           </li>

         {% endif %}

         <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.number}}" style="background-color: white; border-color: #007bff;"><b>{{sponsor_listings.number}}</b></a></li>


         {% if sponsor_listings.has_next %}
           <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.next_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">{{sponsor_listings.next_page_number}}</a></li>

           <li class="page-item">
             <a class="page-link m-1" href="?page={{sponsor_listings.next_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">Next</a>
           </li>

         {% else %}
           <li class="page-item disabled">
             <a class="page-link m-1" style="border-color: #acafb4;" href="#" tabindex="-1" aria-disabled="true">Next</a>
           </li>

         {% endif %}


       </ul>
     </nav>



 </div>






<!-- Creator Marketplace view for phones  -->
<div class="d-sm-none">
 <div class="container">

   <div class="row">
     <div class="col-4 px-2 mx-auto">

       <a class="btn btn-primary btn-block mt-3" style="border: 1px solid #0058b5" data-toggle="collapse" data-target="#collapseCreatorOrders" role="button">
           Filter By
       </a>
      </div>

     <div class="col-8 pr-2 pl-0 mx-auto">

     <button type="button" class="btn btn-primary btn-block my-3" style="border: 1px solid #0058b5;" data-toggle="modal" data-target="#helpVideoModalMobile">
       Need Help?
     </button>

     <!-- Modal -->
     <div class="modal fade" id="helpVideoModalMobile" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
       <div class="modal-dialog modal-dialog-centered" role="document">
         <div class="modal-content">
           <div class="modal-header">
             <h5 class="modal-title" id="exampleModalLongTitle">Sponsor Marketplace Help Video</h5>
             <button type="button" class="close" data-dismiss="modal" aria-label="Close">
               <span aria-hidden="true">&times;</span>
             </button>
           </div>
           <div class="modal-body">
             <div class="container-fluid">
               <div class="row">
                 <div class="col-12 embed-responsive embed-responsive-16by9">
                   <iframe class="embed-responsive-item" src="//www.youtube.com/embed/gkvdhLPCq-0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                 </div>
               </div>
             </div>
           </div>
           <div class="modal-footer">
             <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
           </div>
         </div>
       </div>
     </div>

   </div>
 </div>


   <div class="row">

       <!-- Filter Form -->
       <div class="collapse" id="collapseCreatorOrders">

         <form method="GET">
             <div class="col">
                 <div class="dropdown">
                     <h4 class="mt-3 text-left">
                       <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-filter" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                         <path fill-rule="evenodd" d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
                       </svg>
                       Filter By
                     </h4>

                     <hr>

                     <div>

                       <h6 class="font-weight-bold">Search By Keywords</h6>
                       <input class="form-control" style="width: 100%;" type="search" placeholder="ex: tech books etc." aria-label="Search" name="search_bar" {% if searchbar_bool %}value="{{searchb}}"{% endif %}>
                       <hr>

                         <div>
                             <div>
                                 <h6 class="font-weight-bold">Niche</h6>
                             </div>

                                 <div>
                                     <ul style="list-style: none; padding-left: 0;">
                                         {% for niche, check in niches.items %}
                                             <li>
                                                 <div class="form-check">
                                                     <input name="niche" class="form-check-input font-weight-normal" type="checkbox" value="{{ niche }}" id="defaultCheck1" {% if check == 'checked' %} checked="True" {% endif %}>
                                                     <label class="form-check-label" for="defaultCheck1">
                                                     {{ niche }}
                                                     </label>
                                                 </div>
                                             </li>
                                         {% endfor %}
                                     </ul>
                                 </div>

                         </div>

                         <hr>

                         <div>
                             <div>
                                 <h6 class="font-weight-bold">Language</h6>
                             </div>

                                 <div>
                                   <ul style="list-style: none; padding-left: 0;">
                                       {% for l, check in langs.items %}
                                           <li>
                                               <div class="form-check">
                                                   <input name="language" class="form-check-input font-weight-normal" type="checkbox" value="{{ l }}" id="defaultCheck2" {% if check == 'checked' %} checked="True" {% endif %}>
                                                   <label class="form-check-label" for="defaultCheck2">
                                                   {{ l }}
                                                   </label>
                                               </div>
                                           </li>
                                       {% endfor %}
                                   </ul>
                                 </div>

                         </div>
                     </div>
                 </div>

                 <button class="btn btn-block btn-success" type="submit">Search</button>
                 <input class="btn btn-block btn-primary mb-3" type="submit" value="Reset" name="reset_button">

                 <hr>

             </div>
         </form>

       </div>

       <!-- END Filter Form -->

       <!-- Listings -->

       <div class="col">
           {% for listing in sponsor_listings %}

           <div class="card mx-3 mt-2 mb-5 shadow" style="border: 2px solid #d8d8d8; border-radius: 25px;">

               <a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}">
                 <img src="{{MEDIA_URL}}{{listing.listing_img}}" class="card-img" style="max-width: 100%; max-height: 100%; border: 0px solid #d8d8d8; border-top-left-radius: 23px; border-top-right-radius: 23px;"">
               </a>

             <div class="card-body pt-1 pl-2">

                 <div class="row">

                     <div class="ml-auto mr-1 mt-1">

                         {% if listing in watching %}

                             <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                                 <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
                             </svg>

                         {% else %}

                         <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 16 16">
                           <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4z"/>
                           <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                         </svg>

                         {% endif %}


                    </div>

                </div>

                 <div class="row mt-2">

                     <h5 class="card-title ml-4 mb-2 text-break"><a href="{% url 'sponsor_marketplace_listing_view' id=listing.id %}" style="color: #007185;">{{ listing.product }}</a></h5>

                 </div>


               <small class="text-muted ml-2">{{ listing.niche }}</small>

               <br>

               {% if listing.url %}
                     <a href="{{ listing.url }}" target="_blank" style="color: #007185;">
                       <small class="ml-2" style="color: #007185;">
                         {% if listing.url.4 == "s" %}
                           {{ listing.url|slice:"8:" }}
                         {% elif listing.url.4 == ":" %}
                           {{ listing.url|slice:"7:" }}
                         {% endif %}
                       </small>
                     </a>
               {% endif %}

             <p class="font-weight-normal mt-3 ml-2">{{ listing.tagline }}</p>


             </div>
           </div>

           <br>


         {% endfor %}

         <nav class="mt-2" aria-label="Page navigation example">
           <ul class="pagination justify-content-center">

             {% if sponsor_listings.has_previous %}
               <li class="page-item">
                 <a class="page-link m-1" href="?page={{sponsor_listings.previous_page_number}}" tabindex="-1" aria-disabled="true" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">Previous</a>
               </li>

               <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.previous_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">{{sponsor_listings.previous_page_number}}</a></li>

             {% else %}
               <li class="page-item disabled">
                 <a class="page-link m-1" style="border-color: #acafb4;" href="#" tabindex="-1" aria-disabled="true">Previous</a>
               </li>

             {% endif %}

             <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.number}}" style="background-color: white; border-color: #007bff;"><b>{{sponsor_listings.number}}</b></a></li>


             {% if sponsor_listings.has_next %}
               <li class="page-item"><a class="page-link m-1" href="?page={{sponsor_listings.next_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">{{sponsor_listings.next_page_number}}</a></li>

               <li class="page-item">
                 <a class="page-link m-1" href="?page={{sponsor_listings.next_page_number}}" style="background-color: #f5f6f9; border-color: #acafb4; color: #3b3b3b;">Next</a>
               </li>

             {% else %}
               <li class="page-item disabled">
                 <a class="page-link m-1" style="border-color: #acafb4;" href="#" tabindex="-1" aria-disabled="true">Next</a>
               </li>

             {% endif %}


           </ul>
         </nav>



       <!-- END Listings -->

      </div>
  </div>
</div>
</div>

{% endblock content %}
