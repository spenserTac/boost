{% extends 'base.html' %}

{% block content %}

{% if user.profile.type == 'none'%}



    <div class="view d-none d-lg-block" style=" height: 300px; background-image: url({{MEDIA_URL}}/styled_background.jpg); background-repeat: no-repeat; background-size: cover; background-position: center center;">
      <div class="container d-flex h-100 align-items-center justify-content-center">
        <div class="row">
          <div class="col-md-12 white-text text-center">
            <div class="col-md-12 p-lg-5 mx-auto my-auto">

              <h1 class="display-2 font-weight-bold text-center">Confirming You're A Sponsor</h1>

            </div>
          </div>
        </div>
    </div>
    </div>

  <!-- Only shows up for MD and smaller (everything else) -->
  <div class="view d-lg-none" style=" height: 180px; background-image: url({{MEDIA_URL}}/styled_background.jpg); background-repeat: no-repeat; background-size: cover; background-position: center center;">
      <div class="container d-flex align-items-center justify-content-center">
        <div class="row">
          <div class="col-sm-12 col-xs-12 white-text text-center">
            <br>

            <h1 class="font-weight-bold pt-3 m-0">Confirming You're A Sponsor</h1>

          </div>
        </div>
    </div>
  </div>


  <div class="container">


      <br>
      <br>

      <div class="row">

          <div class="col">

            <div class="jumbotron text-center border shadow-lg">
                <h1 class="display-4 font-weight-bold">Sponsor</h1>
                <p class="lead">Those who seek advertisement.</p>
                <hr class="my-4">

                <h4 class="font-weight-bold">Create a Listing and Attract Creators</h4>
                <p class="grey-text">Create a listing for your product/business and it will be placed on the open marketplace so creators can view it.</p>

                <br>

                <h4 class="font-weight-bold">Get Offers</h4>
                <p class="grey-text">When a creator likes your listing, they can make an offer to create sponsored content for you, which you can accept or decline.</p>

                <br>

                <h4 class="font-weight-bold">Get Paid</h4>
                <p class="grey-text">After your approval, the creator will publish your content for the world to see.</p>

                <br>
                <p class="lead">
                  <a class="btn btn-primary btn-lg" href="{% url 'sponsor_listing_creation_type_s' %}" role="button">I'm a Sponsor</a>
                </p>
                <br>
                <a href="{% url 'blog_listing' %}">I'm Actually a Creator</a>
              </div>

          </div>

      </div>
  </div>



{% else %}

<!-- Blogger Listing Creation Form -->

    <!-- Only shows up for LG and bigger (computers) -->
    <div class="view d-none d-lg-block" style=" height: 400px; background-image: url({{MEDIA_URL}}/styled_background.jpg); background-repeat: no-repeat; background-size: cover; background-position: center center;">
        <div class="container d-flex h-100 align-items-center justify-content-center">
          <div class="row">
            <div class="col-md-12 white-text text-center">
              <div class="col-md-8 p-lg-5 mx-auto my-auto">
                {% if update_bool %}
                  <h1 class="font-weight-bold display-3">Update Sponsor Listing</h1>
                  <br>
                  <p class="lead font-weight-normal">This is where you'll update your sponsor listing.</p>
                {% else %}
                  <h1 class="font-weight-bold display-2">Create A Sponsor Listing</h1>
                  <br>
                  <p class="lead font-weight-normal">This is where you'll create your sponsor listing so creators can view your listing.</p>
                {% endif %}
              </div>
            </div>
          </div>
      </div>
  </div>

    <!-- Only shows up for MD and smaller (everything else) -->
    <div class="view d-lg-none" style=" height: 280px; background-image: url({{MEDIA_URL}}/styled_background.jpg); background-repeat: no-repeat; background-size: cover; background-position: center center;">
        <div class="container d-flex align-items-center justify-content-center">
          <div class="row">
            <div class="col-sm-12 col-xs-12 white-text text-center">
              <br>
              <br>
              {% if update_bool %}
                <h1 class="font-weight-bold">Update Sponsor Listing</h1>
                <br>
                <p class="lead font-weight-normal">This is where you'll update your sponsor listing.</p>
              {% else %}
                <h1 class="font-weight-bold">Create A Sponsor Listing</h1>
                <br>
                <p class="lead font-weight-normal">This is where you'll create your sponsor listing so creators can view your listing.</p>
              {% endif %}
            </div>
          </div>
      </div>
    </div>


    <div class="container">



        {% if messages %}
          {% for message in messages %}

            {% if 'sponsor_listing_update_error' in message.tags  %}
              <div class="alert alert-danger alert-dismissible fade show text-center mt-4 mb-0" role="alert">
                <strong>{{message}}</strong>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            {% endif %}

            <br>

          {% endfor %}
        {% endif %}

        <div class="d-flex justify-content-center mx-3">
            <form method="POST" enctype="multipart/form-data">

                {% csrf_token %}


                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary btn-block my-5 py-2" style="border: 1px solid #0058b5;" data-toggle="modal" data-target="#helpVideoModal">
                  Need Help?
                </button>

                <!-- Modal -->
                <div class="modal fade" id="helpVideoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Listing Creation/Updating Help Video</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <div class="container-fluid">
                          <div class="row">
                            <div class="col-12 embed-responsive embed-responsive-16by9">
                              <iframe class="embed-responsive-item" src="//www.youtube.com/embed/pA3vU6_Sjsg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </div>
                </div>




                <h1 class="font-weight-normal text-center">Your Business's Info</h1>
                <br>

                <div class="border p-3" style="border-color: #f3f3f3; background-color: #f9f9f9; color: black;">
                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="inputPrice">Product/Business Name</label>
                            <input value="{{ listing.product }}" name="product" class="form-control"  placeholder="Product/Business Name" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="inputPrice">Product/Business Website</label>
                            <input value="{{ listing.url }}" name="url" class="form-control"  placeholder="http(s)://">
                        </div>
                    </div>


                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="inputNiche">Niche</label>
                            <br>
                            <small>What niche is your business in?</small>
                            <select name="niche" id="inputNiche" class="form-control" required>
                                <option selected>{{ listing.niche }}</option>
                                <option>Apparel & Accessories</option>
                                <option>Arts & Crafts</option>
                                <option>Autos & Vehicles</option>
                                <option>Baby & Children Products</option>
                                <option>Beauty & Personal Care</option>
                                <option>Business & Industrial</option>
                                <option>Educational</option>
                                <option>Food</option>
                                <option>Home & Garden</option>
                                <option>Lifestyle</option>
                                <option>Media & Entertainment</option>
                                <option>Sports & Fitness</option>
                                <option>Travel</option>
                                <option>Technology</option>
                                <option>Other</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-12">
                            <label for="Inputlanguage">Language</label>
                            <br>
                            <small>What's the primary language that you business uses?</small>
                            <select value="{{ listing.language }}" type="text" name="language" id="Inputlanguage" class="form-control" placeholder="EX: English" required>
                                <option selected>{{ listing.language }}</option>
                                <option>English</option>
                                <option>Spanish</option>
                                <option>Chinese</option>
                                <option>Other</option>
                            </select>
                        </div>
                    </div>


                    <div class="form-group">
                        <label class="m-0" for="exampleFormControlTextarea1">Keywords</label>
                        <br>
                        <small class="font-weight-bold">
                          Input search keywords here that are related to your listing.

                          This is how sponsors will search for your listings.
                          <br>

                        </small>

                        <textarea class="form-control" name="search_keywords" rows="2" placeholder="Example: tech phones review">{{ search_kw }}</textarea>
                    </div>


                </div>

                <br>
                <br>
                <hr>
                <br>
                <br>

                <h1 class="font-weight-normal text-center">Describe Your<br>Business/Product To Us</h1>
                <br>

                <div class="border p-3" style="border-color: #f3f3f3; background-color: #f9f9f9; color: black;">

                    <div class="form-group mb-5">
                        <label for="exampleFormControlTextarea1">Budget (•)</label>
                        <textarea class="form-control" name="pricing_description" rows="2" placeholder="Give us a detailed description of your budget for your sponsorship. Use bullet points (•) if you'd like, this may be easier for a creator to read." required>{{ listing.pricing_description }}</textarea>
                    </div>


                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Tagline</label>
                        <textarea class="form-control" name="tagline" rows="2" placeholder="Give us very brief description of your business/product in less than 120 characters." required>{{listing.tagline}}</textarea>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Description</label>
                        <textarea class="form-control" name="overview_description" rows="6" placeholder="Tell us about your business/product. 2-3 paragraphs recommended." required>{{listing.overview_description}}</textarea>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Audience Description</label>
                        <textarea class="form-control" name="audience_description" rows="6" placeholder="Tell us about your audience/clientell. 2-3 paragraph recommended." required>{{listing.audience_description}}</textarea>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Creator Description</label>
                        <textarea class="form-control" name="creator_description" rows="6" placeholder="Tell us what you're looking for in a creator. 2-3 paragraph recommended." required>{{listing.creator_description}}</textarea>
                    </div>

                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Have You Ever Sponsored Content Before?</label>
                        <textarea class="form-control" name="creator_description" rows="6" placeholder="Tell us what kind of experience you have with sponsoring content. 2-3 paragraph recommended." required>{{listing.creator_description}}</textarea>
                    </div>

                    <label for="exampleFormControlFile1">Upload Listing Image</label>
                    <br>
                    <small>For best results, make sure your image is 1080p.</small>


                    <div class="input-group mb-3">

                        <div class="custom-file">
                          <input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" name="listing_img" accept="image/png, image/jpeg">
                          {% if listing.listing_img %}
                            <label class="custom-file-label" for="inputGroupFile01" style="max-width: 100%;">{{img_file_name}}</label>
                          {% else %}
                            <label class="custom-file-label" for="inputGroupFile01" style="max-width: 100%;">Choose File</label>
                          {% endif %}


                          </label>

                          <script>
                          document.getElementById("inputGroupFile01").addEventListener('change',function(e){
                            var fileName = document.getElementById("inputGroupFile01").files[0].name;
                            var nextSibling = e.target.nextElementSibling
                            nextSibling.innerText = fileName
                            })
                          </script>

                        </div>

                    </div>

                </div>

                <br>
                <br>
                <hr>
                <br>
                <br>

                <h1 class="font-weight-normal text-center">Notifications</h1>
                <br>

                <div class="border p-3" style="border-color: #f3f3f3; background-color: #f9f9f9; color: black;">
                  <small style="color: red;">The email field is required. Only becuase it is used for the escrow system.</small>
                  <br>
                  <br>
                  <small style="color: red;">(If you do not want any notifications via email or phone, then do not select any notification options)</small>
                  <br>
                  <br>
                  <small style="color: red;">The mobile number is not required, but it is extremely urged.</small>
                  <br>
                  <br>

                  <div class="form-group col-md-12">
                      <label for="InputwebsiteUrl">Email You'd Like To Be Notified By</label>
                      <input value="{{ listing.email }}" type="email" name="email" class="form-control" id="InputwebsiteUrl" placeholder="Email" required>
                  </div>

                  <div class="form-group col-md-12">
                      <label for="InputwebsiteUrl">Phone Number You'd Like To Be Notified By</label>
                      <br>
                      <small>Example: 13864567789  (Area code is required)</small>
                      <input value="{% if listing.number is not None %}{{ listing.number }}{% endif %}" type="tel" name="number" class="form-control" id="InputwebsiteUrl" placeholder="Phone Number">
                  </div>

                  <br>

                    <div class="form-group col-md-12">
                      <label>Choose Which Notifications You'd Like To Recieve</label>
                      <br>
                      <small class="text-center">It's recommended that you choose all of them, so you'll be

                        notified about everything that happens to your listings.</small>

                      <br>
                      <br>


                      <div class="row border rounded p-3" style="background-color: #f5f5f5;">

                        <div class="col-6 border-right">
                          <h5 class="text-center font-weight-normal mb-3">Email</h5>
                        {% for notification in notification_types %}
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="{{notification}}" name="notification_type_email"
                            {% if notification in n_types_e %}
                                checked
                            {% endif %}
                            >
                            <label class="form-check-label" for="defaultCheck1">
                              {{notification}}
                            </label>
                          </div>
                       {% endfor %}
                      </div>

                      <div class="col-6">
                        <h5 class="text-center font-weight-normal mb-3">Mobile</h5>
                        <p class="text-center" style="color: red;">If you'd like to recieve<br>mobile notifications, please contact support.<br>(For a simple verification process.)</p>
                      {% for notification in notification_types %}
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="{{notification}}" name="notification_type_phone"
                          {% if notification in n_types_m %}
                              checked
                          {% endif %}
                          >
                          <label class="form-check-label" for="defaultCheck1">
                            {{notification}}
                          </label>
                        </div>
                     {% endfor %}
                    </div>

                     </div>


                  </div>




                </div>

                <br>
                <br>
                <br>

                <div class="text-center">
                    <button type="submit" class="btn btn-primary" style="border: 1px solid #0058b5">Finish Listing</button>
                </div>

                <br>
            </form>
        </div>
    </div>

<!-- END Blogger Listing Creation Form -->
{% endif %}

{% endblock content %}
